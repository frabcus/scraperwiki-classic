{% extends "frontend/base.html" %}
{% block content %}
    <div class="page_title">
        <h1>{% block heading %}{% endblock %}</h1>
        <p>{% block subheading %}{% endblock %}</p>
        <p><a href="http://{{api_domain}}{{api_uri}}">{{api_uri}}</a></p>        
    </div>
    <div class="content col left">
        <h2>Arguments</h2>
        <form class="api_arguments" target="iframeResponse" method="post" action="{% url api:explorer_call %}">
            <fieldset>
                <input type="hidden" name="uri" value="http://{{api_domain}}{{api_uri}}"/>
            </fieldset>
            {% block arguments %}
            {% endblock %}
            <div>
                <input type="submit" id="btnCallMethod" class="button" value="Call method ..."/>
            </div>
        </form>

        <div class="explorer_response">
        <h2>Example Response <small>(add values above, then click 'call method' to see live data)</small></h2>
            <iframe name="iframeResponse" id="api_response" src="{% block example_url %}{% endblock %}">

            </iframe>
        </div>
    </div>    
    <div class="content col right">
        <h3>Useful Values</h3>
        <h4>Response formats</h4>
        <ul id="ulFormats">
            <li><code>json</code></li>
            <li><code>yaml</code></li>            
            <li><code>xml</code></li>                        
            <li><code>php</code></li>                        
            <li><code>csv</code></li>                                    
        </ul>
        {% if has_scrapers%}
            <h4>Scraper short names</h4>
            <ul id="ulScraperShortNames">
                {% for scraper in scrapers %}
                    <li><code title="{{scraper.title}}">{{scraper.short_name}}</code></li>
    		    {% endfor %}	                
            </ul>
        {% endif %}
    </div>
    
{% endblock %}

{% block run_script %}APISetupExploreFunction();{% endblock %}