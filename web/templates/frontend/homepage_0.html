{% extends "frontend/base.html" %}
{% load gravatar %}
{% load sw_user_filters %}

{% block title %}Refine, reuse and request data{% endblock %}
{% block meta %}
    <meta name="description" content="Scrape and link data using Ruby, Python and PHP scripts that run maintenance-free in the cloud. Request data for scoops and better decisions."/>
    <meta property="og:title" content="ScraperWiki" />
    <meta property="og:description" content="Scrape and link data using Ruby, Python and PHP scripts that run maintenance-free in the cloud. Request data for scoops and better decisions." />
    <meta property="og:image" content="{{ MEDIA_URL }}images/footer_tractor.png" />
    <meta property="og:site_name" content="ScraperWiki" />
{% endblock %}

{% block custom_vars %}
    _gaq.push(['_setCustomVar', 2, 'ab_new_homepage', '0', 2]);
{% endblock %}

{% block header %}
	<div id="frontpage_intro">
	    <a data-wiki_type="scraper" class="create editor_scraper" href="{% url choose_template 'scraper' %}" onClick="if(typeof _gaq !== 'undefined'){ _gaq.push(['_trackEvent', 'Homepage buttons', 'Create a scraper']); }">Create a scraper</a>
        <a class="tour" href="{% url request_data %}" onClick="if(typeof _gaq !== 'undefined'){ _gaq.push(['_trackEvent', 'Homepage buttons', 'Request data']); }">Request data</a>
		<p>The data hub for coders.</p>
	</div>
	<div id="frontpage_slider">
		<div id="intro_developer">
			<h3>Data Developer?</h3>
			<p>Refine and reuse data with Ruby,<br/>Python and PHP scripts that run <br/>maintenance-free in the cloud.</p>
			<a id="more_developer" href="#more_developer_div">&laquo; Find out more</a>
		</div>
		<div id="intro_requester">
			<h3>Data Requester?</h3>
			<p>Get data for predictability, scoops <br/>and better decisions. Find your <br/>surprises before they surprise you!</p>
			<a id="more_requester" href="#more_requester_div">Find out more &raquo;</a>
		</div>
		<img id="blob_developer" src="{{ MEDIA_URL }}images/blob_developer.png" width="200" height="310" alt="A developer with a hard hat and pick axe" />
		<img id="blob_requester" src="{{ MEDIA_URL }}images/blob_requester.png" width="190" height="260" alt="A businessperson with a ruby and gold ingot" />
		<div id="more_developer_div">
			<h3>Why developers love ScraperWiki</h3>
			<table cellpadding="0" cellspacing="0">
				<tr class="icons">
					<td><img src="{{ MEDIA_URL }}images/icon_languages.gif" width="100" height="64" alt=""/></td>
					<td><img src="{{ MEDIA_URL }}images/icon_vault.gif" width="100" height="64" alt=""/></td>
					<td><img src="{{ MEDIA_URL }}images/icon_globe.gif" width="100" height="64" alt=""/></td>
				</tr>
				<tr class="usps">
                    <td>SQL. Cron. JSON.<br/>No boring sysadmin.</td>
					<td>Somewhere to keep all<br/>your dirty little scripts</td>
					<td>Real-time coding, with a<br/> community of geeks</td>
				</tr>
			</table>
			<p class="last"><a class="back" href="#intro_developer">&laquo; Go Back</a> or <a class="forward" href="{% url docs 'ruby' %}" onClick="if(typeof _gaq !== 'undefined'){ _gaq.push(['_trackEvent', 'Homepage buttons', 'Developer - get started']); }">Get started!</a></p>
		</div>
		<div id="more_requester_div">
			<h3>Why people who need data love ScraperWiki</h3>
			<table cellpadding="0" cellspacing="0">
				<tr class="icons">
					<td><img src="{{ MEDIA_URL }}images/icon_quickly.gif" width="100" height="64" alt=""/></td>
					<td><img src="{{ MEDIA_URL }}images/icon_1000s.gif" width="100" height="64" alt=""/></td>
					<td><img src="{{ MEDIA_URL }}images/icon_visualise.gif" width="100" height="64" alt=""/></td>
				</tr>
				<tr class="usps">
					<td>We make the data available<br/>quickly and easily</td>
					<td>1000s of developers<br/>at your fingertips!</td>
					<td>Simply analyse, aggregate<br/>and visualise data.</td>
				</tr>
			</table>
			<p class="last"><a class="back" href="#intro_requester">&laquo; Go Back</a> or <a class="forward" href="{% url request_data %}" onClick="if(typeof _gaq !== 'undefined'){ _gaq.push(['_trackEvent', 'Homepage buttons', 'Requester - request data']); }">Request data!</a></p>
		</div>
	</div>
{% endblock %}

{% block content %}
    <div class="tags">
        <h2><a href="{% url all_tags %}" title="Browse by tag">Popular tags</a></h2>
        <ul class="tags">
            {% for tag in tags %}
            <li><a href="{% url single_tag tag.name %}">{{tag.name}}</a></li>
            {% endfor %}
        </ul>
    </div>
	
	<div class="activity">
	    <h2><a>From the Blog</a></h2>
        {% if not debug %}
	        {% load blog_latest %}
            {% blog_latest %}
        {% else %}
            <div class="blog_latest">Blog not displayed on dev</div>
        {% endif %}
    </div>
		
	<br class="clear"/>			
{% endblock %}

{% block run_script %}
    $(function(){
        var num = $('ul.tags li').length;
        $('ul.tags li').each(function(){
            var i = $(this).prevAll().length;
            $(this).children('a').css('opacity', (1 - (i * (1/num)) )).hover(function(){ $(this).css('opacity','1'); }, function(){ $(this).css('opacity', (1 - (i * (1/num)))); });
        });
    });
{% endblock %}
