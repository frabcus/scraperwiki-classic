<li>
    <h3>
        <a href="{% ifequal scraper.wiki_type 'scraper'%}{% url scraper_overview scraper.short_name %}{% else %}{% url view_overview scraper.short_name %}{% endifequal %}">
            {% if scraper.title %}{{ scraper.title }}{% else %}{{ scraper.short_name }}{% endif %}
        </a>
        {% if scraper.has_geo %}
            <a href="{% url scraper_map scraper.short_name %}">
                <img src="{{ MEDIA_URL }}/images/icons/map.png"/>
            </a>
        {% endif %}
        {% if scraper.has_temporal %}                        
            <img src="{{ MEDIA_URL }}/images/icons/date.png"/>
        {% endif %}
        {% load sparkline %}
        {# {% sparkline scraper.scraper_sparkline_csv %} #}
    </h3>
    <p class="controls">
        {% if not scraper.published %}
            <span class="status unpublished">unpublished</span>
        {% endif %}
        {% ifequal scraper.owner user%}
            <span class="edit"><a href="{% url editor_edit scraper.wiki_type scraper.short_name %}">Edit</a></span>
        {% endifequal %}
    </p>
    {% if scraper.description %}
        <p>
            {{ scraper.description }}            
        </p>
    {% endif %}

    <small>
        Created by
        {% load gravatar %}
        {% if scraper.owner %}
          {% show_gravatar scraper.owner 'small' %}
          {% if scraper.owner.username %}
            <a href="{% url profiles_profile_detail scraper.owner.username %}">{{ scraper.owner.get_profile.name }}</a>
          {% else %}
            [error: missing user name]
          {% endif %}
        {% else %}
          [error: missing user]
        {% endif %}
        {{scraper.created_at|timesince}} ago |
        <strong>{{scraper.wiki_type}}</strong>
    {% ifequal scraper.language 'HTML' %}
        <a href="{% url htmlview scraper.short_name %}">{{ scraper.language }}</a>
    {% else %}
        {% if scraper.last_run %}
            last run {{scraper.last_run|timesince}} ago |
        {% else %}
            not run yet |
        {% endif %}
        <b>{{ scraper.language }}</b>
        | {{ scraper.record_count }} records
    {% endifequal %}
    </small>
    
</li>


